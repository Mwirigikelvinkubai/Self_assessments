{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kelvin\\\\OneDrive\\\\Desktop\\\\Code\\\\Development\\\\self-assessments\\\\src\\\\components\\\\Quiz.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport confetti from \"canvas-confetti\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Quiz({\n  file,\n  onClose\n}) {\n  _s();\n  var _questions$current, _questions$current2;\n  const [questions, setQuestions] = useState([]);\n  const [current, setCurrent] = useState(0);\n  const [score, setScore] = useState(0);\n  const [finished, setFinished] = useState(false);\n  useEffect(() => {\n    async function loadFile() {\n      const res = await fetch(`/data/${file}`);\n      const data = await res.json();\n      setQuestions(data.questions || []);\n      setCurrent(0);\n      setScore(0);\n      setFinished(false);\n    }\n    if (file) loadFile();\n  }, [file]);\n  const handleAnswer = isCorrect => {\n    if (isCorrect) setScore(prev => prev + 1);\n    if (current + 1 < questions.length) {\n      setCurrent(current + 1);\n    } else {\n      setFinished(true);\n      triggerConfetti();\n    }\n  };\n  const triggerConfetti = () => {\n    const duration = 1.5 * 1000;\n    const end = Date.now() + duration;\n    const frame = () => {\n      confetti({\n        particleCount: 4,\n        spread: 80,\n        startVelocity: 30,\n        origin: {\n          y: 0.7\n        }\n      });\n      if (Date.now() < end) {\n        requestAnimationFrame(frame);\n      }\n    };\n    frame();\n  };\n  if (!file) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"quiz-container\",\n    children: !finished ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          style: {\n            width: `${(current + 1) / questions.length * 100}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"Question \", current + 1, \" of \", questions.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: (_questions$current = questions[current]) === null || _questions$current === void 0 ? void 0 : _questions$current.question\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: (_questions$current2 = questions[current]) === null || _questions$current2 === void 0 ? void 0 : _questions$current2.options.map((opt, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAnswer(opt.correct),\n          style: {\n            display: \"block\",\n            margin: \"0.5rem 0\",\n            padding: \"0.5rem\",\n            borderRadius: \"8px\",\n            border: \"none\",\n            background: \"#198754\",\n            color: \"#fff\",\n            cursor: \"pointer\",\n            width: \"100%\"\n          },\n          children: opt.text\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"results\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Results \\uD83C\\uDF89\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"You scored \", score, \" out of \", questions.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"retake-btn\",\n          onClick: () => setFinished(false),\n          children: \"Retake\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-btn\",\n          onClick: onClose,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(Quiz, \"CgeuQ4SH39P234H1s1dUzqBb0NE=\");\n_c = Quiz;\nexport default Quiz;\nvar _c;\n$RefreshReg$(_c, \"Quiz\");","map":{"version":3,"names":["React","useEffect","useState","confetti","jsxDEV","_jsxDEV","Fragment","_Fragment","Quiz","file","onClose","_s","_questions$current","_questions$current2","questions","setQuestions","current","setCurrent","score","setScore","finished","setFinished","loadFile","res","fetch","data","json","handleAnswer","isCorrect","prev","length","triggerConfetti","duration","end","Date","now","frame","particleCount","spread","startVelocity","origin","y","requestAnimationFrame","className","children","style","width","fileName","_jsxFileName","lineNumber","columnNumber","question","options","map","opt","i","onClick","correct","display","margin","padding","borderRadius","border","background","color","cursor","text","_c","$RefreshReg$"],"sources":["C:/Users/Kelvin/OneDrive/Desktop/Code/Development/self-assessments/src/components/Quiz.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport confetti from \"canvas-confetti\";\r\n\r\nfunction Quiz({ file, onClose }) {\r\n  const [questions, setQuestions] = useState([]);\r\n  const [current, setCurrent] = useState(0);\r\n  const [score, setScore] = useState(0);\r\n  const [finished, setFinished] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function loadFile() {\r\n      const res = await fetch(`/data/${file}`);\r\n      const data = await res.json();\r\n      setQuestions(data.questions || []);\r\n      setCurrent(0);\r\n      setScore(0);\r\n      setFinished(false);\r\n    }\r\n    if (file) loadFile();\r\n  }, [file]);\r\n\r\n  const handleAnswer = (isCorrect) => {\r\n    if (isCorrect) setScore((prev) => prev + 1);\r\n    if (current + 1 < questions.length) {\r\n      setCurrent(current + 1);\r\n    } else {\r\n      setFinished(true);\r\n      triggerConfetti();\r\n    }\r\n  };\r\n\r\n  const triggerConfetti = () => {\r\n    const duration = 1.5 * 1000;\r\n    const end = Date.now() + duration;\r\n\r\n    const frame = () => {\r\n      confetti({\r\n        particleCount: 4,\r\n        spread: 80,\r\n        startVelocity: 30,\r\n        origin: { y: 0.7 },\r\n      });\r\n      if (Date.now() < end) {\r\n        requestAnimationFrame(frame);\r\n      }\r\n    };\r\n    frame();\r\n  };\r\n\r\n  if (!file) return null;\r\n\r\n  return (\r\n    <div className=\"quiz-container\">\r\n      {!finished ? (\r\n        <>\r\n          {/* Progress bar */}\r\n          <div className=\"progress-wrapper\">\r\n            <div\r\n              className=\"progress-bar\"\r\n              style={{\r\n                width: `${((current + 1) / questions.length) * 100}%`,\r\n              }}\r\n            ></div>\r\n          </div>\r\n\r\n          <h4>\r\n            Question {current + 1} of {questions.length}\r\n          </h4>\r\n          <p>{questions[current]?.question}</p>\r\n          <div>\r\n            {questions[current]?.options.map((opt, i) => (\r\n              <button\r\n                key={i}\r\n                onClick={() => handleAnswer(opt.correct)}\r\n                style={{\r\n                  display: \"block\",\r\n                  margin: \"0.5rem 0\",\r\n                  padding: \"0.5rem\",\r\n                  borderRadius: \"8px\",\r\n                  border: \"none\",\r\n                  background: \"#198754\",\r\n                  color: \"#fff\",\r\n                  cursor: \"pointer\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                {opt.text}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <div className=\"results\">\r\n          <h3>Results ðŸŽ‰</h3>\r\n          <p>\r\n            You scored {score} out of {questions.length}\r\n          </p>\r\n          <div className=\"result-actions\">\r\n            <button className=\"retake-btn\" onClick={() => setFinished(false)}>\r\n              Retake\r\n            </button>\r\n            <button className=\"close-btn\" onClick={onClose}>\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Quiz;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}